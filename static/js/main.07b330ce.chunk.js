(this["webpackJsonpbattleship-react"]=this["webpackJsonpbattleship-react"]||[]).push([[0],{11:function(e,t,r){"use strict";r.r(t);var i=r(1),a=r(5),s=r.n(a),c=r(2),n=r(0),l=function(){return Object(n.jsx)("footer",{children:Object(n.jsxs)("p",{children:["Webpage created by"," ",Object(n.jsxs)("a",{href:"https://github.com/thiago-porto25",children:["Thiago Porto ",Object(n.jsx)("i",{className:"fab fa-github"})]}),". Fonts by ",Object(n.jsx)("a",{href:"https://fonts.google.com/",children:"Google Fonts"}),". Icons by"," ",Object(n.jsx)("a",{href:"https://fontawesome.com/",children:"Font Awesome"}),"."]})})};function p(e){var t=e.setIsInitial,r=e.setIsPreparing;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"init-container",children:[Object(n.jsx)("h1",{children:"BATTLESHIP"}),Object(n.jsx)("button",{onClick:function(){t(!1),r(!0)},children:"New Game"})]}),Object(n.jsx)(l,{})]})}function o(e){var t=e.onClick,r=e.colorCode,a=e.boardId,s=e.name,l=e.currentPlayer,p=e.isPlacingShip,o=e.handleMouseEvent,u=Object(i.useState)(!1),h=Object(c.a)(u,2),b=h[0],d=h[1];return Object(n.jsx)("div",{className:"board-square ".concat(s),style:"prep"===s?{backgroundColor:b?"rgb(177, 175, 175)":r,pointerEvents:"gray"===r?"none":p?"":"none"}:"player"===s?{backgroundColor:r}:"AI"===s?{backgroundColor:b&&"white"===r?"rgb(177, 175, 175)":r,pointerEvents:"AI"===l?"none":""}:void 0,onMouseEnter:function(e){d(!0),"prep"===s&&o(e)},onMouseLeave:function(e){d(!1),"prep"===s&&o(e)},onClick:t,"data-id":a,disabled:"gray"===r})}function u(e){var t=e.message;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("header",{children:Object(n.jsx)("h1",{className:"logo",children:"BATTLESHIP"})}),Object(n.jsx)("div",{className:"header-message",children:Object(n.jsx)("p",{children:t})})]})}function h(e){var t=e.setIsPreparing,r=e.setIsMainGame,a=e.board,s=e.setBoard,p=e.headerMessage,h=e.setHeaderMessage,b=Object(i.useState)(!1),d=Object(c.a)(b,2),j=d[0],f=d[1],m=Object(i.useState)(!1),O=Object(c.a)(m,2),g=O[0],w=O[1],x=Object(i.useState)(0),v=Object(c.a)(x,2),k=v[0],H=v[1],I=Object(i.useState)("X"),S=Object(c.a)(I,2),y=S[0],C=S[1];Object(i.useEffect)((function(){return h("Pick a Ship!")}),[]);var P=function(e){return"X"===y&&(9===e||19===e||29===e||39===e||49===e||59===e||69===e||79===e||89===e||99===e||"water"!==a[e+1]||"water"!==a[e+2]&&e+2<=99)||("X"===y&&("warship"===g||"submarine"===g||"battleship"===g||"carrier"===g)&&(8===e||18===e||28===e||38===e||48===e||58===e||68===e||78===e||88===e||98===e||"water"!==a[e+3]&&e+3<=99)||("X"===y&&("battleship"===g||"carrier"===g)&&(7===e||17===e||27===e||37===e||47===e||57===e||67===e||77===e||87===e||97===e||"water"!==a[e+4]&&e+4<=99)||("X"===y&&"carrier"===g&&(6===e||16===e||26===e||36===e||46===e||56===e||66===e||76===e||86===e||96===e||"water"!==a[e+5]&&e+5<=99)||("Y"===y&&(90===e||91===e||92===e||93===e||94===e||95===e||96===e||97===e||98===e||99===e||"water"!==a[e+10]||"water"!==a[e+20]&&e+20<=99)||("Y"===y&&("warship"===g||"submarine"===g||"battleship"===g||"carrier"===g)&&(80===e||81===e||82===e||83===e||84===e||85===e||86===e||87===e||88===e||89===e||"water"!==a[e+30]&&e+30<=99)||("Y"===y&&("battleship"===g||"carrier"===g)&&(70===e||71===e||72===e||73===e||74===e||75===e||76===e||77===e||78===e||79===e||"water"!==a[e+40]&&e+40<=99)||"Y"===y&&"carrier"===g&&(60===e||61===e||62===e||63===e||64===e||65===e||66===e||67===e||68===e||69===e||"water"!==a[e+50]&&e+50<=99)))))))},A=function(e,t){g||(e.classList.toggle("selected"),h("Place your ".concat("patrol"===t?"patrol boat":t,"!")),w(t),H((function(e){return e+1})),e.disabled=!0)},M=function(e){if(g){var t,r=parseInt(e.target.getAttribute("data-id"),10);if(P(r))e.target.classList.toggle("not-allowed");else if("carrier"===g?t=5:"battleship"===g?t=4:"warship"===g||"submarine"===g?t=3:"patrol"===g&&(t=2),"X"===y)for(var i=1;i<t;i++)document.querySelector("[data-id='".concat(r+i,"']")).classList.toggle("hovered");else if("Y"===y)for(var a=10;a<10*t;a+=10)document.querySelector("[data-id='".concat(r+a,"']")).classList.toggle("hovered")}},N={pointerEvents:g||j?"none":""};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"prep-container",children:[Object(n.jsx)(u,{message:p}),Object(n.jsxs)("div",{className:"prep-board-and-ships",children:[Object(n.jsx)("div",{className:"prep-board-container",children:Object(n.jsx)("div",{className:"prep-board",children:a.map((function(e,t){return Object(n.jsx)(o,{boardId:t,onClick:function(e){return function(e){if(g&&""!==e.getAttribute("disabled")){var t=parseInt(e.getAttribute("data-id"),10);if(P(t))return h("Not Allowed!"),void setTimeout((function(){return h("Place your ".concat("patrol"===g?"patrol boat":g,"!"))}),1e3);var r=a.map((function(e,r){if("carrier"===g)if("X"===y){if(t===r)return g;if(t+1===r)return g;if(t+2===r)return g;if(t+3===r)return g;if(t+4===r)return g}else if("Y"===y){if(t===r)return g;if(t+10===r)return g;if(t+20===r)return g;if(t+30===r)return g;if(t+40===r)return g}if("battleship"===g)if("X"===y){if(t===r)return g;if(t+1===r)return g;if(t+2===r)return g;if(t+3===r)return g}else if("Y"===y){if(t===r)return g;if(t+10===r)return g;if(t+20===r)return g;if(t+30===r)return g}if("warship"===g)if("X"===y){if(t===r)return g;if(t+1===r)return g;if(t+2===r)return g}else if("Y"===y){if(t===r)return g;if(t+10===r)return g;if(t+20===r)return g}if("submarine"===g)if("X"===y){if(t===r)return g;if(t+1===r)return g;if(t+2===r)return g}else if("Y"===y){if(t===r)return g;if(t+10===r)return g;if(t+20===r)return g}if("patrol"===g)if("X"===y){if(t===r)return g;if(t+1===r)return g}else if("Y"===y){if(t===r)return g;if(t+10===r)return g}return"water"!==e?e:"water"}));s(r),w(!1),h("Pick a ship!"),5===k&&(f(!0),h("start game!"))}}(e.target)},colorCode:"water"===e?"white":"gray",name:"prep",isPlacingShip:g,handleMouseEvent:M},"".concat(e,"-").concat(t))}))})}),Object(n.jsx)("div",{className:"prep-ships-axis",children:Object(n.jsxs)("button",{onClick:function(){C((function(e){return"X"===e?"Y":"X"}))},disabled:!g,children:["Current Axis: ",y]})}),Object(n.jsxs)("div",{className:"prep-ships-container",children:[Object(n.jsxs)("div",{className:"prep-ships-buttons",children:[Object(n.jsx)("button",{style:N,onClick:function(e){var t=e.target;return A(t,"carrier")},children:"Carrier"}),Object(n.jsx)("button",{style:N,onClick:function(e){var t=e.target;return A(t,"battleship")},children:"Battleship"}),Object(n.jsx)("button",{style:N,onClick:function(e){var t=e.target;return A(t,"warship")},children:"Warship"}),Object(n.jsx)("button",{style:N,onClick:function(e){var t=e.target;return A(t,"submarine")},children:"Submarine"}),Object(n.jsx)("button",{style:N,onClick:function(e){var t=e.target;return A(t,"patrol")},children:"Patrol Boat"})]}),Object(n.jsx)("div",{className:"prep-start-container",children:Object(n.jsx)("button",{disabled:!j,onClick:function(){t(!1),r(!0)},children:"Start Game"})})]})]})]}),Object(n.jsx)(l,{})]})}function b(e){var t=e.handlePlayAgain;return Object(n.jsx)("section",{className:"modal",children:Object(n.jsxs)("div",{className:"modal-inner",children:[Object(n.jsx)("h1",{children:"Play Again?"}),Object(n.jsx)("button",{onClick:t,children:"New Game"})]})})}var d=function(){return{checkWinner:function(){return!!(this.carrier.checkSunk()&&this.battleship.checkSunk()&&this.warship.checkSunk()&&this.submarine.checkSunk()&&this.patrol.checkSunk())},carrier:{totalHits:0,size:5,getHit:function(){this.totalHits=this.totalHits+1},checkSunk:function(){return this.totalHits>=this.size}},battleship:{totalHits:0,size:4,getHit:function(){this.totalHits=this.totalHits+1},checkSunk:function(){return this.totalHits>=this.size}},warship:{totalHits:0,size:3,getHit:function(){this.totalHits=this.totalHits+1},checkSunk:function(){return this.totalHits>=this.size}},submarine:{totalHits:0,size:3,getHit:function(){this.totalHits=this.totalHits+1},checkSunk:function(){return this.totalHits>=this.size}},patrol:{totalHits:0,size:2,getHit:function(){this.totalHits=this.totalHits+1},checkSunk:function(){return this.totalHits>=this.size}}}},j=function(){for(var e=[],t=0;t<100;t++)e.push("water");return e},f=function(){var e=j(),t=Math.floor(10*Math.random()+1);return 1===t?(e.splice(2,5,"carrier","carrier","carrier","carrier","carrier"),e.splice(35,4,"battleship","battleship","battleship","battleship"),e.splice(86,3,"warship","warship","warship"),e.splice(40,1,"submarine"),e.splice(50,1,"submarine"),e.splice(60,1,"submarine"),e.splice(78,1,"patrol"),e.splice(68,1,"patrol")):2===t?(e.splice(0,5,"carrier","carrier","carrier","carrier","carrier"),e.splice(9,1,"battleship"),e.splice(19,1,"battleship"),e.splice(29,1,"battleship"),e.splice(39,1,"battleship"),e.splice(22,1,"warship"),e.splice(32,1,"warship"),e.splice(42,1,"warship"),e.splice(46,3,"submarine","submarine","submarine"),e.splice(70,1,"patrol"),e.splice(60,1,"patrol")):3===t?(e.splice(32,5,"carrier","carrier","carrier","carrier","carrier"),e.splice(3,4,"battleship","battleship","battleship","battleship"),e.splice(66,3,"warship","warship","warship"),e.splice(85,3,"submarine","submarine","submarine"),e.splice(93,2,"patrol","patrol")):4===t?(e.splice(50,1,"carrier"),e.splice(60,1,"carrier"),e.splice(70,1,"carrier"),e.splice(80,1,"carrier"),e.splice(90,1,"carrier"),e.splice(45,4,"battleship","battleship","battleship","battleship"),e.splice(25,3,"warship","warship","warship"),e.splice(11,3,"submarine","submarine","submarine"),e.splice(97,2,"patrol","patrol")):5===t?(e.splice(15,1,"carrier"),e.splice(25,1,"carrier"),e.splice(35,1,"carrier"),e.splice(45,1,"carrier"),e.splice(55,1,"carrier"),e.splice(22,1,"battleship"),e.splice(32,1,"battleship"),e.splice(42,1,"battleship"),e.splice(52,1,"battleship"),e.splice(95,3,"warship","warship","warship"),e.splice(70,3,"submarine","submarine","submarine"),e.splice(48,2,"patrol","patrol")):6===t?(e.splice(50,1,"carrier"),e.splice(60,1,"carrier"),e.splice(70,1,"carrier"),e.splice(80,1,"carrier"),e.splice(90,1,"carrier"),e.splice(5,4,"battleship","battleship","battleship","battleship"),e.splice(68,1,"warship"),e.splice(78,1,"warship"),e.splice(88,1,"warship"),e.splice(34,3,"submarine","submarine","submarine"),e.splice(83,1,"patrol"),e.splice(93,1,"patrol")):7===t?(e.splice(27,1,"carrier"),e.splice(37,1,"carrier"),e.splice(47,1,"carrier"),e.splice(57,1,"carrier"),e.splice(67,1,"carrier"),e.splice(81,4,"battleship","battleship","battleship","battleship"),e.splice(6,3,"warship","warship","warship"),e.splice(31,3,"submarine","submarine","submarine"),e.splice(12,1,"patrol"),e.splice(22,1,"patrol")):8===t?(e.splice(42,1,"carrier"),e.splice(52,1,"carrier"),e.splice(62,1,"carrier"),e.splice(72,1,"carrier"),e.splice(82,1,"carrier"),e.splice(17,1,"battleship"),e.splice(27,1,"battleship"),e.splice(37,1,"battleship"),e.splice(47,1,"battleship"),e.splice(66,3,"warship","warship","warship"),e.splice(95,3,"submarine","submarine","submarine"),e.splice(23,2,"patrol","patrol")):9===t?(e.splice(92,5,"carrier","carrier","carrier","carrier","carrier"),e.splice(58,1,"battleship"),e.splice(68,1,"battleship"),e.splice(78,1,"battleship"),e.splice(88,1,"battleship"),e.splice(15,3,"warship","warship","warship"),e.splice(0,3,"submarine","submarine","submarine"),e.splice(33,1,"patrol"),e.splice(23,1,"patrol")):10===t&&(e.splice(74,5,"carrier","carrier","carrier","carrier","carrier"),e.splice(0,4,"battleship","battleship","battleship","battleship"),e.splice(57,3,"warship","warship","warship"),e.splice(95,3,"submarine","submarine","submarine"),e.splice(29,1,"patrol"),e.splice(39,1,"patrol")),e},m=r(4),O=r.n(m);function g(e){var t=e.humanBoard,r=e.setHumanBoard,a=e.AIBoard,s=e.setAIBoard,p=e.setIsPreparing,h=e.setIsMainGame,m=e.headerMessage,g=e.setHeaderMessage,w=Object(i.useState)(!1),x=Object(c.a)(w,2),v=x[0],k=x[1],H=Object(i.useState)("human"),I=Object(c.a)(H,2),S=I[0],y=I[1],C=Object(i.useState)(d()),P=Object(c.a)(C,2),A=P[0],M=P[1],N=Object(i.useState)(d()),B=Object(c.a)(N,2),X=B[0],Y=B[1],E=function(e){var i=parseInt(e.getAttribute("data-id"),10);if("hit"!==a[i]&&"water hit"!==a[i]){var c=O()(X),n=a.map((function(e,t){if(i!==t)return e;switch(e){case"water":return"water hit";case"carrier":return c.carrier.getHit(),"hit";case"battleship":return c.battleship.getHit(),"hit";case"warship":return c.warship.getHit(),"hit";case"submarine":return c.submarine.getHit(),"hit";case"patrol":return c.patrol.getHit(),"hit";default:return e}}));s(n),Y(c);var l=c.checkWinner();k(l),l?g("Congratulations! Player wins!"):(g("Computer's turn"),y("AI"),setTimeout((function(){return function(){if(!v){for(var e;;){var i=Math.floor(100*Math.random());if("hit"!==t[i]&&"water hit"!==t[i]){e=i;break}}var a=O()(A),s=t.map((function(t,r){if(e!==r)return t;switch(t){case"water":return"water hit";case"carrier":return a.carrier.getHit(),"hit";case"battleship":return a.battleship.getHit(),"hit";case"warship":return a.warship.getHit(),"hit";case"submarine":return a.submarine.getHit(),"hit";case"patrol":return a.patrol.getHit(),"hit";default:return t}}));r(s),M(a);var c=a.checkWinner();k(c),c?g("Too bad! The Computer wins!"):(g("Player's turn"),y("player"))}}()}),800))}};return Object(i.useEffect)((function(){return g("Your Move!"),function(){r(j()),s(f())}}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(u,{message:m}),Object(n.jsxs)("div",{className:"main-board-container",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("header",{children:"Player"}),Object(n.jsx)("div",{className:"main-board human",children:t.map((function(e,t){return Object(n.jsx)(o,{boardId:t,colorCode:"water"===e?"white":"hit"===e?"#af0000":"water hit"===e?"#00009d":"gray",name:"player"},"".concat(e,"-").concat(t))}))})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("header",{children:"Computer"}),Object(n.jsx)("div",{className:"main-board AI",children:a.map((function(e,t){return Object(n.jsx)(o,{boardId:t,colorCode:"hit"===e?"#af0000":"water hit"===e?"#00008c":"white",name:"AI",onClick:function(e){var t=e.target;E(t)},currentPlayer:S},"".concat(e,"-").concat(t))}))})]})]}),v&&Object(n.jsx)(b,{handlePlayAgain:function(){p(!0),h(!1)}}),Object(n.jsx)(l,{})]})}var w=function(){var e=Object(i.useState)(!0),t=Object(c.a)(e,2),r=t[0],a=t[1],s=Object(i.useState)(!1),l=Object(c.a)(s,2),o=l[0],u=l[1],b=Object(i.useState)(!1),d=Object(c.a)(b,2),m=d[0],O=d[1],w=Object(i.useState)(""),x=Object(c.a)(w,2),v=x[0],k=x[1],H=Object(i.useState)(j()),I=Object(c.a)(H,2),S=I[0],y=I[1],C=Object(i.useState)(f()),P=Object(c.a)(C,2),A=P[0],M=P[1];return Object(n.jsxs)(n.Fragment,{children:[r&&Object(n.jsx)(p,{setIsInitial:a,setIsPreparing:u}),o&&Object(n.jsx)(h,{board:S,setBoard:y,setAIBoard:M,setIsPreparing:u,setIsMainGame:O,headerMessage:v,setHeaderMessage:k}),m&&Object(n.jsx)(g,{humanBoard:S,setHumanBoard:y,AIBoard:A,setAIBoard:M,setIsPreparing:u,setIsMainGame:O,headerMessage:v,setHeaderMessage:k})]})};s.a.render(Object(n.jsx)(w,{}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.07b330ce.chunk.js.map